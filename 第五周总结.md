# 第五周总结

>讲道理，这个周才是计划中专心开始学习32的一周
>
>[TOC]

## 使用GPIO控制外设的简易步骤

1. 打开外设对应的总线时钟（RCC）
2. 对GPIO引脚的输出模式进行初始化
3. 控制GPIO输出高低电平

## STM32库函数初步开发----自己写库

>详情参考【野火】零死角玩转STM32以及STM32F10X中文参考手册

**使用库函数可以大幅度提高程序的开发效率和可移植性**

在直接使用官方的固件库之前，先尝试自己对一些位运算进行函数封装，使用结构体和宏定义，多文件操作。

<img src="https://gitee.com/Veerax/typora_photo/raw/master/img/20210217042219.png" alt="image-20210217042219678" style="zoom:50%;" />

**可以减少对寄存器的直接操作。**



### 定义GPIO寄存器结构体|定义GPIO外设声明|定义外设存储器映射|定义位操作函数

<img src="https://gitee.com/Veerax/typora_photo/raw/master/img/20210217043246.png" alt="image-20210217043246033" style="zoom: 67%;" />注：

> 端口配置低寄存器（CPL）配置的低八位的IO口
>
> 端口配置高寄存器（CPH）配置的高八位的IO口
>
> 



<img src="https://gitee.com/Veerax/typora_photo/raw/master/img/20210217043246.png" alt="image-20210217043246033" style="zoom: 67%;" />

<img src="https://gitee.com/Veerax/typora_photo/raw/master/img/20210217043317.png" alt="image-20210217043317364" style="zoom:67%;" />

<img src="https://gitee.com/Veerax/typora_photo/raw/master/img/20210217043433.png" alt="image-20210217043433747" style="zoom: 50%;" /><img src="https://gitee.com/Veerax/typora_photo/raw/master/img/20210217043543.png" alt="image-20210217043543260" style="zoom:67%;" />

## 定义初始化结构体

<img src="https://gitee.com/Veerax/typora_photo/raw/master/img/20210217044144.png" alt="image-20210217044144650" style="zoom:67%;" />

